<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>모바일 포커 게임</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #004d40, #00251a);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      padding: 1rem;
      font-size: 1.5rem;
      font-weight: bold;
      background: rgba(0,0,0,0.4);
    }
    #gameArea {
      padding: 1rem;
    }
    .cards {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 1rem 0;
    }
    .card {
      width: 60px;
      height: 90px;
      background: white;
      color: black;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      margin: 0.3rem;
      font-weight: bold;
      animation: deal 0.5s ease;
    }
    @keyframes deal {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    #info {
      margin: 1rem;
      font-size: 1rem;
      background: rgba(0,0,0,0.4);
      padding: 1rem;
      border-radius: 12px;
    }
    button {
      padding: 0.8rem 1.5rem;
      margin: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background: #ff9800;
      color: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      transition: 0.3s;
    }
    button:hover {
      background: #ffa726;
    }
    @media(max-width:600px){
      .card{width:50px;height:75px;font-size:1rem;}
      button{width:90%;}
    }
  </style>
</head>
<body>
  <header>모바일 포커 (플레이어 vs AI)</header>
  <div id="gameArea">
    <div><button onclick="startGame()">새 게임 시작</button></div>
    <h2>당신의 카드</h2>
    <div id="playerCards" class="cards"></div>
    <h2>AI 카드</h2>
    <div id="aiCards" class="cards"></div>
    <h2>공용 카드</h2>
    <div id="tableCards" class="cards"></div>
    <div id="info">게임 정보를 여기에 표시합니다.</div>
  </div>

  <script>
    const suits = ["♠", "♥", "♦", "♣"];
    const ranks = ["2","3","4","5","6","7","8","9","10","J","Q","K","A"];

    function createDeck(){
      let deck=[];
      for(let s of suits){
        for(let r of ranks){
          deck.push(r+s);
        }
      }
      return deck;
    }

    function shuffle(deck){
      for(let i=deck.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [deck[i],deck[j]]=[deck[j],deck[i]];
      }
      return deck;
    }

    function displayCards(container,cards){
      container.innerHTML="";
      cards.forEach(c=>{
        let div=document.createElement("div");
        div.className="card";
        div.innerText=c;
        container.appendChild(div);
      });
    }

    function rankValue(r){
      if(r=="A") return 14;
      if(r=="K") return 13;
      if(r=="Q") return 12;
      if(r=="J") return 11;
      return parseInt(r);
    }

    // 간단한 족보 평가 (원페어, 투페어, 트리플, 스트레이트, 플러시, 풀하우스, 포카드, 스트레이트 플러시)
    function evaluateHand(cards){
      let ranksOnly=cards.map(c=>c.slice(0,-1));
      let suitsOnly=cards.map(c=>c.slice(-1));
      let counts={};
      ranksOnly.forEach(r=>counts[r]=(counts[r]||0)+1);
      let values=ranksOnly.map(rankValue).sort((a,b)=>a-b);

      let flush = suitsOnly.every(s=>s===suitsOnly[0]);
      let straight = values.every((v,i)=>i===0||v===values[i-1]+1);

      let freq=Object.values(counts).sort((a,b)=>b-a);

      if(straight && flush) return {rank:8,name:"스트레이트 플러시"};
      if(freq[0]===4) return {rank:7,name:"포카드"};
      if(freq[0]===3 && freq[1]===2) return {rank:6,name:"풀하우스"};
      if(flush) return {rank:5,name:"플러시"};
      if(straight) return {rank:4,name:"스트레이트"};
      if(freq[0]===3) return {rank:3,name:"트리플"};
      if(freq[0]===2 && freq[1]===2) return {rank:2,name:"투페어"};
      if(freq[0]===2) return {rank:1,name:"원페어"};
      return {rank:0,name:"하이카드"};
    }

    function startGame(){
      let deck=shuffle(createDeck());
      let player=[deck.pop(),deck.pop()];
      let ai=[deck.pop(),deck.pop()];
      let table=[deck.pop(),deck.pop(),deck.pop(),deck.pop(),deck.pop()];

      displayCards(document.getElementById("playerCards"),player);
      displayCards(document.getElementById("aiCards"),ai.map(()=>"🂠")); // AI는 뒷면으로
      displayCards(document.getElementById("tableCards"),table);

      let playerHand=evaluateHand(player.concat(table));
      let aiHand=evaluateHand(ai.concat(table));

      let info=document.getElementById("info");
      info.innerHTML=`당신의 족보: <b>${playerHand.name}</b><br>
      AI의 족보: <b>${aiHand.name}</b><br>`;

      if(playerHand.rank>aiHand.rank){
        info.innerHTML+="<br><span style='color:yellow'>당신의 승리!</span>";
      } else if(playerHand.rank<aiHand.rank){
        info.innerHTML+="<br><span style='color:red'>AI 승리!</span>";
      } else {
        info.innerHTML+="<br><span style='color:lightblue'>무승부</span>";
      }
    }
  </script>
</body>
</html>
