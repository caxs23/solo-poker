<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëª¨ë°”ì¼ í¬ì»¤ ê²Œì„</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #004d40, #00251a);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      padding: 1rem;
      font-size: 1.5rem;
      font-weight: bold;
      background: rgba(0,0,0,0.4);
    }
    #gameArea {
      padding: 1rem;
    }
    .cards {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 1rem 0;
    }
    .card {
      width: 60px;
      height: 90px;
      background: white;
      color: black;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      margin: 0.3rem;
      font-weight: bold;
      animation: deal 0.5s ease;
    }
    @keyframes deal {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    #info {
      margin: 1rem;
      font-size: 1rem;
      background: rgba(0,0,0,0.4);
      padding: 1rem;
      border-radius: 12px;
    }
    button {
      padding: 0.8rem 1.5rem;
      margin: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background: #ff9800;
      color: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      transition: 0.3s;
    }
    button:hover {
      background: #ffa726;
    }
    @media(max-width:600px){
      .card{width:50px;height:75px;font-size:1rem;}
      button{width:90%;}
    }
  </style>
</head>
<body>
  <header>ëª¨ë°”ì¼ í¬ì»¤ (í”Œë ˆì´ì–´ vs AI)</header>
  <div id="gameArea">
    <div><button onclick="startGame()">ìƒˆ ê²Œì„ ì‹œì‘</button></div>
    <h2>ë‹¹ì‹ ì˜ ì¹´ë“œ</h2>
    <div id="playerCards" class="cards"></div>
    <h2>AI ì¹´ë“œ</h2>
    <div id="aiCards" class="cards"></div>
    <h2>ê³µìš© ì¹´ë“œ</h2>
    <div id="tableCards" class="cards"></div>
    <div id="info">ê²Œì„ ì •ë³´ë¥¼ ì—¬ê¸°ì— í‘œì‹œí•©ë‹ˆë‹¤.</div>
  </div>

  <script>
    const suits = ["â™ ", "â™¥", "â™¦", "â™£"];
    const ranks = ["2","3","4","5","6","7","8","9","10","J","Q","K","A"];

    function createDeck(){
      let deck=[];
      for(let s of suits){
        for(let r of ranks){
          deck.push(r+s);
        }
      }
      return deck;
    }

    function shuffle(deck){
      for(let i=deck.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [deck[i],deck[j]]=[deck[j],deck[i]];
      }
      return deck;
    }

    function displayCards(container,cards){
      container.innerHTML="";
      cards.forEach(c=>{
        let div=document.createElement("div");
        div.className="card";
        div.innerText=c;
        container.appendChild(div);
      });
    }

    function rankValue(r){
      if(r=="A") return 14;
      if(r=="K") return 13;
      if(r=="Q") return 12;
      if(r=="J") return 11;
      return parseInt(r);
    }

    // ê°„ë‹¨í•œ ì¡±ë³´ í‰ê°€ (ì›í˜ì–´, íˆ¬í˜ì–´, íŠ¸ë¦¬í”Œ, ìŠ¤íŠ¸ë ˆì´íŠ¸, í”ŒëŸ¬ì‹œ, í’€í•˜ìš°ìŠ¤, í¬ì¹´ë“œ, ìŠ¤íŠ¸ë ˆì´íŠ¸ í”ŒëŸ¬ì‹œ)
    function evaluateHand(cards){
      let ranksOnly=cards.map(c=>c.slice(0,-1));
      let suitsOnly=cards.map(c=>c.slice(-1));
      let counts={};
      ranksOnly.forEach(r=>counts[r]=(counts[r]||0)+1);
      let values=ranksOnly.map(rankValue).sort((a,b)=>a-b);

      let flush = suitsOnly.every(s=>s===suitsOnly[0]);
      let straight = values.every((v,i)=>i===0||v===values[i-1]+1);

      let freq=Object.values(counts).sort((a,b)=>b-a);

      if(straight && flush) return {rank:8,name:"ìŠ¤íŠ¸ë ˆì´íŠ¸ í”ŒëŸ¬ì‹œ"};
      if(freq[0]===4) return {rank:7,name:"í¬ì¹´ë“œ"};
      if(freq[0]===3 && freq[1]===2) return {rank:6,name:"í’€í•˜ìš°ìŠ¤"};
      if(flush) return {rank:5,name:"í”ŒëŸ¬ì‹œ"};
      if(straight) return {rank:4,name:"ìŠ¤íŠ¸ë ˆì´íŠ¸"};
      if(freq[0]===3) return {rank:3,name:"íŠ¸ë¦¬í”Œ"};
      if(freq[0]===2 && freq[1]===2) return {rank:2,name:"íˆ¬í˜ì–´"};
      if(freq[0]===2) return {rank:1,name:"ì›í˜ì–´"};
      return {rank:0,name:"í•˜ì´ì¹´ë“œ"};
    }

    function startGame(){
      let deck=shuffle(createDeck());
      let player=[deck.pop(),deck.pop()];
      let ai=[deck.pop(),deck.pop()];
      let table=[deck.pop(),deck.pop(),deck.pop(),deck.pop(),deck.pop()];

      displayCards(document.getElementById("playerCards"),player);
      displayCards(document.getElementById("aiCards"),ai.map(()=>"ğŸ‚ ")); // AIëŠ” ë’·ë©´ìœ¼ë¡œ
      displayCards(document.getElementById("tableCards"),table);

      let playerHand=evaluateHand(player.concat(table));
      let aiHand=evaluateHand(ai.concat(table));

      let info=document.getElementById("info");
      info.innerHTML=`ë‹¹ì‹ ì˜ ì¡±ë³´: <b>${playerHand.name}</b><br>
      AIì˜ ì¡±ë³´: <b>${aiHand.name}</b><br>`;

      if(playerHand.rank>aiHand.rank){
        info.innerHTML+="<br><span style='color:yellow'>ë‹¹ì‹ ì˜ ìŠ¹ë¦¬!</span>";
      } else if(playerHand.rank<aiHand.rank){
        info.innerHTML+="<br><span style='color:red'>AI ìŠ¹ë¦¬!</span>";
      } else {
        info.innerHTML+="<br><span style='color:lightblue'>ë¬´ìŠ¹ë¶€</span>";
      }
    }
  </script>
</body>
</html>
